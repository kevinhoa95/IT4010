<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>List of saved key</title>
	<link rel="stylesheet" href="/res/bootstrap.min.css">
	<script src="/res/jquery.js"></script>
	<script src="/res/bootstrap.min.js"></script>
	<script language="JavaScript" type="text/javascript" src="/cryptico/jsbn.js"></script>
	<script language="JavaScript" type="text/javascript" src="/cryptico/random.js"></script>
	<script language="JavaScript" type="text/javascript" src="/cryptico/hash.js"></script>
	<script language="JavaScript" type="text/javascript" src="/cryptico/rsa.js"></script>
	<script language="JavaScript" type="text/javascript" src="/cryptico/aes.js"></script>
	<script language="JavaScript" type="text/javascript" src="/cryptico/api.js"></script>
	<script language="JavaScript" type="text/javascript" src="/crypto-js/build/rollups/md5.js"></script>
	<script src="/crypto-js/build/rollups/aes.js"></script>
	<script language="JavaScript" type="text/javascript" src="/crypto-js/build/components/enc-base64-min.js"></script>
	<script src="/res/FileSaver.js">/* note cannot run in web worker */</script>
	<script src="/src/consts-and-funcs.js"></script>
</head>
<body>
	<div class="container-fluid col-md-4 col-md-offset-4" style="margin-top:20px">
		<div class="form-group">
			<ul id="ulKeys" class="list-group"></ul>
		</div>
		<div class="form-group">
			<a class="btn btn-primary" data-toggle="modal" href='#modal-import-public-key'>Import Public Key</a>
			<a class="btn btn-primary" data-toggle="modal" href='#modal-import-key-pair'>Import Key Pair</a>
		</div>
		<div class="form-group">
			<a href="generate-rsa-key.html" class="btn btn-success">Generate new key pair</a>
		</div>
	</div>

	<div class="modal fade" id="modal-import-public-key">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title">Import Public Key</h4>
				</div>
				<div class="modal-body">
					<div class="container-fluid">
						<textarea name="pub" id="pub" cols="30" rows="10" class="form-control" placeholder="Insert Public key here."></textarea>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary" id="btnImportPublicKey">Save Public Key</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="modal-import-key-pair">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title">Import Key Pair</h4>
				</div>
				<div class="modal-body">
					<div class="container-fluid">
						<div class="form-group">
							<textarea name="priv" id="priv" cols="30" rows="10" class="form-control" placeholder="Insert Private key here."></textarea>
						</div>
						<div class="form-group">
							<textarea name="passphrase" id="passphrase" cols="30" rows="3" class="form-control" placeholder="Insert passphrase of this private key."></textarea>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary" id="btnImportKeyPair">Save Key Pair</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="modal-show-key">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="email">Show key</h4>
				</div>
				<div class="modal-body">
					<div class="container-fluid">
						<div class="form-group">
							<textarea name="pubKey" id="pubKey" cols="30" rows="10"class="form-control" ></textarea>
						</div>
						<div class="form-group">
							<textarea name="privKey" id="privKey" cols="30" rows="10" class="form-control" placeholder="Private Key"></textarea>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					<button type="button" id="btnShowPrivateKey" class="btn btn-primary">Show Private Key</button>
				</div>
			</div>
		</div>
	</div>
	<script src="key-list.js"></script>
</body>
</html>